<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>Swip Search Engine</title>

		<link rel="stylesheet" href="codemirror/lib/codemirror.css" />
		<script type="text/javascript" src="codemirror/lib/codemirror.js"></script>
		<script type="text/javascript" src="codemirror/mode/sparql/sparql.js"></script>
		
		<link rel="stylesheet" type="text/css" href="css/style.css" />
		<link rel="icon" href="img/muffin-favicon.ico" />
		<script type="text/javascript" src="js/lib/jquery.js"></script>
		<script type="text/javascript" src="js/app.js"></script>
		<script type="text/javascript" src="js/displayPivotToMappings.js"></script>
		<script type="text/javascript" src="js/disclaimer.js"></script>
	</head>

	<body>
		
		<div class="lefttab" id="disclaimer">
			<div class="openCloseIdentifier"></div>
    		<div class="content">
        		<h2>Disclaimer.</h2>
				<p>SWIP is an approach aiming at translating user natural language queries into SPARQL queries targetting a given knowledge base. This web page is an interface to an implementation of this approach, currently in active development. It is provided to you for illustration purpose only.</p>
				<p>Please note that the server hosting this application is also used for the development version and that some web services are shared. This may cause some unplanified inconveniences. If you enconter any problem preventing you from testing this service, please <a href="mailto:camillepradel@gmail.com">contact us</a>; we will react as promptly as possible.</p>
    		</div>
			<div class="showHideButton"></div>
	    </div>
		
		<div class="lefttab" id="configurations">
			<div class="openCloseIdentifier"></div>
    		<div class="content">
        		<h2>Configurations</h2>
        		<h3>Web client</h3>
	            <table>
	                <tr>
	                    <th>Sparql endpoint for client: </th>
	                    <th>
	                    	<input name="sparqlenpoint" class="sparqlenpoint" value="http://swip.univ-tlse2.fr:8080/dbpedia/" />
	                    </th>
	                </tr>
	            </table>
	            <h3>NL to Pivot</h3>
	            <table>
	                <tr>
	                    <th>Web service: </th>
	                    <th>
	                    	<input name="wfwebservice" class="wfwebservice" value="http://swip.univ-tlse2.fr/SwipWorkflow/resources/rest/nlToPivotJSONP" />
	                    	<!-- <input name="wfwebservice" class="wfwebservice" value="http://localhost:8080/SwipWorkflow/resources/rest/nlToPivotJSONP" /> -->
	                    </th>
	                </tr>
	                <tr>
	                    <th>Gazetteer WS (for workflow): </th>
	                    <th>
	                    	<input name="gazwebservice" class="gazwebservice" value="http://swip.univ-tlse2.fr/NlToPivotGazetteer/resources/rest/gatherNamedEntities" />
	                    	<!-- <input name="gazwebservice" class="gazwebservice" value="http://localhost:8080/NlToPivotGazetteer/resources/rest/gatherNamedEntities" /> -->
	                    </th>
	                </tr>
	                <tr>
	                    <th>Dependency parser WS (for workflow): </th>
	                    <th>
	                    	<input name="dpwebservice" class="dpwebservice" value="http://swip.univ-tlse2.fr/NlToPivotParser/resources/rest/nlToDependenciesJson" />
	                    	<!-- <input name="dpwebservice" class="dpwebservice" value="http://localhost:8080/NlToPivotParser/resources/rest/nlToDependenciesJson" /> -->
	                    </th>
	                </tr>
	                <tr>
	                    <th>Rules WS (for workflow): </th>
	                    <th>
	                    	<input name="ruleswebservice" class="ruleswebservice" value="http://swip.univ-tlse2.fr/NlToPivotRules/resources/rest/dependenciesToPivot" />
	                    	<!-- <input name="ruleswebservice" class="ruleswebservice" value="http://localhost:8080/NlToPivotRules/resources/rest/dependenciesToPivot" /> -->
	                    </th>
	                </tr>
	                <tr>
	                    <th>KB name: </th>
	                    <th>
	                    	<input name="kbname" class="kbname" value="dbpedia" />
	                    </th>
	                </tr>
	                <tr>
	                    <th>Language: </th>
	                    <th>
	                    	<input name="lang" class="lang" value="en" />
	                    </th>
	                </tr>
	                <tr>
	                    <th>POS tagger: </th>
	                    <th>
	                    	<input name="pos" class="pos" value="treeTagger" />
	                    </th>
	                </tr>
	                <tr>
	                    <th>Dependency parser: </th>
	                    <th>
	                    	<input name="dep" class="dep" value="malt" />
	                    </th>
	                </tr>
	            </table>
	            <h3>Pivot to SPARQL</h3>
	            <table>
	                <tr>
	                    <th>Web service: </th>
	                    <th>
	                    	<input name="ptswebservice" class="ptswebservice" value="http://swip.univ-tlse2.fr/PivotToMappingsSparql/resources/rest/generateBestMappingsJSONP" />
	                    	<!-- <input name="ptswebservice" class="ptswebservice" value="http://localhost:8080/PivotToMappingsSparql/resources/rest/generateBestMappingsJSONP" /> -->
	                    	<!-- <input name="ptswebservice" class="ptswebservice" value="http://192.168.250.91/PivotToMappings/resources/rest/generateBestMappingsJSONP" /> -->
	                    </th>
	                </tr>
	                <tr>
	                    <th>Sparql endpoint for server: </th>
	                    <th>
	                    	<input name="sparqlenpointserver" class="sparqlenpointserver" value="http://localhost:8080/dbpedia/" />
	                    	<!-- <input name="sparqlenpointserver" class="sparqlenpointserver" value="http://swip.univ-tlse2.fr:8080/dbpedia/" /> -->
	                    </th>
	                </tr>
	                <tr>
	                    <th>Use Federated SPARQL: </th>
	                    <th>
	                    	<input type="checkbox" class="usefederatedsparql" />
	                    </th>
	                </tr>
	                <tr>
	                    <th>Use Larq: </th>
	                    <th>
	                    	<input type="checkbox" class="uselarq" checked="checked" />
	                    </th>
	                </tr>
	                <tr>
	                    <th>Larq params: </th>
	                    <th>
	                    	<input name="larqparams" class="larqparams" value="8.0" />
	                    </th>
	                </tr>
	                <tr>
	                    <th>KB location: </th>
	                    <th>
	                    	<input name="kblocation" class="kblocation" value="http://swip.univ-tlse2.fr/dbpedia/kb" />
	                    	<!-- <input name="kblocation" class="kblocation" value="http://api.wunderfacts.com/virtuoso/sparql?default-graph-uri=" /> -->
	                    </th>
	                </tr>
	                <tr>
	                    <th></th>
	                    <th>
	                    	(named graph or SPARQL endpoint)
	                    </th>
	                </tr>
	                <tr>
	                    <th>Queries Named Graph URI: </th>
	                    <th>
	                    	<input name="queriesuri" class="queriesuri" value="http://swip.univ-tlse2.fr/dbpedia/queries" />
	                    </th>
	                </tr>
	                <tr>
	                    <th>Patterns Named Graph URI: </th>
	                    <th>
	                    	<input name="patternsuri" class="patternsuri" value="http://swip.univ-tlse2.fr/dbpedia/patterns" />
	                    </th>
	                </tr>
	                <tr>
	                    <th>Number of mappings: </th>
	                    <th>
	                        <input name="nbmappings" class="nbmappings" type="number" size="1" value="50" />
	                    </th>
	                </tr>
	            </table>
    		</div>
			<div class="showHideButton"></div>
	    </div>

		<div id="logo">
			<img id="swiplogo" src="img/swip-melodi.jpg" alt="Swip"/>
			<img id="halo" src="img/halo2.png" alt="Swip"/>
		</div>

		<div id="form">
			<table>
				<tr>
					<th>Nl query:</th>
					<td>
						<!-- <input type="text" id="searchField1" class="searchField" value="Who produced the album In Utero?" /> -->
						<input type="text" id="searchField1" class="searchField" value="In which country is the Limerick Lake?" />
						<button id="searchButton1" class="searchButton" enabled="false">Get pivot query</button><br />
					</td>
				</tr>
				<tr>
					<th>Pivot query:</th>
					<td>
						<!-- <input type="text" id="searchField2" class="searchField" value="?person: The_Heroes_of_Telemark." /> -->
						<input type="text" id="searchField2" class="searchField" value="?country: Limerick_Lake." />
						<button id="searchButton2" class="searchButton" enabled="false">Get mappings</button>
					</td>
				</tr>
			</table>
		</div>

		<div id="processingstate">
			<h2>Processing state</h2>
			<ol>
				<li id="PerformingMatching_state">Matching</li>
				<li id="PerformingElementMapping_state">Mapping pattern elements</li>
				<li id="PerformingSpCollectionMapping_state">Mapping subpattern collections</li>
				<li id="PerformingPatternMapping_state">Mapping patterns</li>
				<li id="PerformingMappingRanking_state">Ranking mappings</li>
				<li id="PerformingMappingsClearing_state">Clearing bad mappings</li>
				<li id="PerformingKbClearing_state">Clearing KB</li>
				<li id="PerformingSentenceGeneration_state">Generating NL sentences</li>
				<li id="PerformingSparqlQueryGeneration_state">Generating SPARQL queries</li>
			</ol>
		</div>

		<div id="result">
			<div id="nltopivot"></div>
			<div id="pivottomappings"></div>
		</div>
	</body>
</html>
